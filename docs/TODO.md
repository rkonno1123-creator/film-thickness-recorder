# やることリスト

## 次やる（優先度高）

### UI改善
- [ ] CSV読込ボタン → 「追加測定」ボタンに変更
- [ ] 追加測定：箇所選択 → 測定（メモ入力あり）
- [ ] メモ欄を全測定画面に追加（下の方、任意入力）
- [ ] 登録後、リストの今の箇所周辺にスクロール維持
- [ ] 複数測定器の登録後：「同じ箇所で別測定器」or「リストに戻る」を選択

### スキップボタン修正
- [ ] 今の問題：戻るボタンと挙動が同じ
- [ ] 5点未満で登録しようとしたら「最低5点記録してください」と表示
- [ ] スキップ = 登録せずに次へ（5点未満でもOK、データは保存しない）

### データ関連
- [ ] 層番号を選べるようにする（今は3層固定）
- [ ] 前回の膜厚を測定画面に表示する
- [ ] Firebase → Excel書き出し

---

## そのうちやる

- [ ] アプリから現場を追加できるようにする
- [ ] 測定データの上書き機能（再測定時に「追加」か「上書き」を選択）

---

## 完了

- [x] 測定器選択モーダル
- [x] 複数測定器対応
- [x] 測定器変更機能
- [x] 全画面表示
- [x] テンキーを上に移動
- [x] 現場選択機能
- [x] CSV空行対策
- [x] 測定器1台の場合はモーダルスキップ

---

## 設計メモ

### 測定器選択のルール
- セットアップで「今日使う測定器」を選ぶ（残す）
- 測定時：1機種 → 直接測定へ / 複数 → 選択モーダル

### 追加測定のユースケース
- キャリブレーションやり直し
- 測定し直したい箇所がある
- → メモ欄で理由を残せる

### Firebase構造（今後変えるかも）

今：
```
measurements/{auto-id}/...
```

将来：
```
sites/{siteId}/...
measurements/{siteId}/{id}/
  - layer: number  ← 層番号追加
  - memo: string   ← メモ追加
```
